"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3899],{28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var o=t(96540);const l={},s=o.createContext(l);function i(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),o.createElement(s.Provider,{value:n},e.children)}},34561:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"llms/multi-llm","title":"Multi LLM APIs","description":"In some cases, you may want to use different LLMs for different components.","source":"@site/docs/llms/multi-llm.md","sourceDirName":"llms","slug":"/llms/multi-llm","permalink":"/TaskWeaver/docs/llms/multi-llm","draft":false,"unlisted":false,"editUrl":"https://github.com/microsoft/TaskWeaver/tree/main/website/docs/llms/multi-llm.md","tags":[],"version":"current","frontMatter":{},"sidebar":"documentSidebar","previous":{"title":"Customized LLM API","permalink":"/TaskWeaver/docs/llms/customized_llm_api"},"next":{"title":"Configurations","permalink":"/TaskWeaver/docs/advanced"}}');var l=t(74848),s=t(28453);const i={},r="Multi LLM APIs",a={},c=[];function m(e){const n={admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"multi-llm-apis",children:"Multi LLM APIs"})}),"\n",(0,l.jsx)(n.p,{children:"In some cases, you may want to use different LLMs for different components.\nFor example, you may want to use OpenAI GPT-4 for the Planner but use Google gemini-pro for the CodeInterpreter.\nIn this part, we show you how to use different LLMs for different components."}),"\n",(0,l.jsxs)(n.p,{children:["If you need only one LLM, you can have only the primary LLM settings in the ",(0,l.jsx)(n.code,{children:"taskweaver_config.json"})," file.\nIf you need multiple LLMs, you need to have ",(0,l.jsx)(n.code,{children:"ext_llms.llm_configs"})," in the ",(0,l.jsx)(n.code,{children:"taskweaver_config.json"})," file to specify the extra LLMs for different components.\nIn the following, we show you how to configure the ",(0,l.jsx)(n.code,{children:"taskweaver_config.json"})," file to use multiple LLMs."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'"llm.api_type":"openai",\n"llm.api_base": "https://api.openai.com/v1",\n"llm.api_key": "YOUR_API_KEY",\n"llm.model": "gpt-3.5-turbo-1106",\n"llm.response_format": "json_object"\n"ext_llms.llm_configs": {\n    "llm_A":\n        {\n            "llm.api_type": "openai",\n            "llm.api_base": "https://api.openai.com/v1",\n            "llm.api_key": "YOUR_API_KEY",\n            "llm.model": "gpt-4-1106-preview",\n            "llm.response_format": "json_object",\n        },\n    "llm_B":\n        {\n            "llm.api_type": "google_genai",\n            "llm.api_key": "YOUR_API_KEY",\n            "llm.model": "gemini-pro",\n        },\n},\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The primary LLM settings are specified in the ",(0,l.jsx)(n.code,{children:"llm."})," fields and it is mandatory."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ext_llms.llm_configs"})," is optional and is a dict of extra LLMs for different components. If you do not specify it, only the primary LLM will be used."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Specify the LLMs for different components in the ",(0,l.jsx)(n.code,{children:"taskweaver_config.json"}),".\nFor example, we want to use OpenAI GPT-4 for the Planner and use Google gemini-pro for the CodeInterpreter."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'"planner.llm_alias": "llm_A",\n"code_generator.llm_alias": "llm_B"\n'})}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["If you do not specify the LLM for a component, the primary LLM will be used by default.\nIn the above example, ",(0,l.jsx)(n.code,{children:"GPT-3.5-turbo-1106"})," will be used for both the Planner and the CodeInterpreter."]})})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(m,{...e})}):m(e)}}}]);