"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2442],{4329:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var r=o(5893),a=o(1151);const s={},t="All-in-One Docker Image",i={id:"usage/docker",title:"All-in-One Docker Image",description:"In this document, we will show you how to run TaskWeaver using the All-in-One Docker Image.",source:"@site/docs/usage/docker.md",sourceDirName:"usage",slug:"/usage/docker",permalink:"/TaskWeaver/docs/usage/docker",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/TaskWeaver/tree/main/website/docs/usage/docker.md",tags:[],version:"current",frontMatter:{},sidebar:"documentSidebar",previous:{title:"Library",permalink:"/TaskWeaver/docs/usage/library"},next:{title:"Supported LLMs",permalink:"/TaskWeaver/docs/llms"}},c={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Run TaskWeaver using the All-in-One Docker Image",id:"run-taskweaver-using-the-all-in-one-docker-image",level:2},{value:"How to run TaskWeaver on your own project directory",id:"how-to-run-taskweaver-on-your-own-project-directory",level:2},{value:"How to access your local files in the container",id:"how-to-access-your-local-files-in-the-container",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"all-in-one-docker-image",children:"All-in-One Docker Image"}),"\n",(0,r.jsx)(n.p,{children:"In this document, we will show you how to run TaskWeaver using the All-in-One Docker Image.\nPlease note that the All-in-One Docker Image is for development and testing purposes only."}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"You need to have Docker installed on your machine."}),"\n",(0,r.jsxs)(n.p,{children:["For Windows and macOS users, you can use Docker Desktop. You can download it from ",(0,r.jsx)(n.a,{href:"https://www.docker.com/products/docker-desktop",children:"Docker's official website"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["For Linux users, you can install following the instructions in the ",(0,r.jsx)(n.a,{href:"https://docs.docker.com/engine/install/",children:"Docker's official website"}),".\nPlease find the installation guide for your specific Linux distribution."]}),"\n",(0,r.jsx)(n.h2,{id:"run-taskweaver-using-the-all-in-one-docker-image",children:"Run TaskWeaver using the All-in-One Docker Image"}),"\n",(0,r.jsx)(n.p,{children:"There are two versions of the TaskWeaver All-in-One Docker Image:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"taskweavercontainers/taskweaver-all-in-one:latest"}),": This version includes the Planner and CodeInterpreter roles only.\nYou can use this container for code generation and execution tasks."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"taskweavercontainers/taskweaver-all-in-one:latest-ws"}),": This version includes an additional WebSearch role which can search the web for information.\nAs it requires dependencies to the ",(0,r.jsx)(n.code,{children:"sentence-transformers"})," library, it is larger."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Open a terminal and run the following command to obtain the TaskWeaver image:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker pull taskweavercontainers/taskweaver-all-in-one:latest\n# if you want to use the version with the WebSearch role \n# docker pull taskweavercontainers/taskweaver-all-in-one:latest-ws\n"})}),"\n",(0,r.jsx)(n.p,{children:"Once the image is pulled, you can run the TaskWeaver container using the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker run -it -e LLM_API_BASE=<API_BASE> \\\n  -e LLM_API_KEY=<API_KEY> \\\n  -e LLM_API_TYPE=<API_TYPE> \\\n  -e LLM_MODEL=<MODEL> \\\n  taskweavercontainers/taskweaver-all-in-one:latest\n"})}),"\n",(0,r.jsx)(n.p,{children:"If you want to run TaskWeaver in UI mode, you can use the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'docker run -it -e LLM_API_BASE=<API_BASE> \\\n  -e LLM_API_KEY=<API_KEY> \\\n  -e LLM_API_TYPE=<API_TYPE> \\\n  -e LLM_MODEL=<MODEL> \\\n  -p 8000:8000 \\\n  taskweavercontainers/taskweaver-all-in-one:latest /bin/sh -c "cd playground/UI/ && python -m chainlit run --host 0.0.0.0 --port 8000 app.py"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Then you can access the TaskWeaver Web UI by visiting ",(0,r.jsx)(n.a,{href:"http://localhost:8000",children:"http://localhost:8000"})," in your web browser."]}),"\n",(0,r.jsx)(n.h2,{id:"how-to-run-taskweaver-on-your-own-project-directory",children:"How to run TaskWeaver on your own project directory"}),"\n",(0,r.jsxs)(n.p,{children:["You can mount your local ",(0,r.jsx)(n.code,{children:"project"})," directory to the container. For example, you can use the following command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker run -it -e LLM_API_BASE=<API_BASE> \\\n  -e LLM_API_KEY=<API_KEY> \\\n  -e LLM_API_TYPE=<API_TYPE> \\\n  -e LLM_MODEL=<MODEL> \\\n  --mount type=bind,source=<your_local_project_dir>,target=/app/TaskWeaver/project/ \\\n  taskweavercontainers/taskweaver-all-in-one:latest\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then you can edit the ",(0,r.jsx)(n.code,{children:"taskweaver_config.json"})," file in your local ",(0,r.jsx)(n.code,{children:"project"})," directory to configure TaskWeaver.\nIn addition, you also can customize the plugins and examples in your local ",(0,r.jsx)(n.code,{children:"project"})," directory.\nThe structure of the ",(0,r.jsx)(n.code,{children:"project"})," directory can be referred to the ",(0,r.jsx)(n.code,{children:"taskweaver/project"})," directory."]}),"\n",(0,r.jsx)(n.h2,{id:"how-to-access-your-local-files-in-the-container",children:"How to access your local files in the container"}),"\n",(0,r.jsx)(n.p,{children:"You can mount your local directory to the container. For example, you can use the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker run -it -e LLM_API_BASE=<API_BASE> \\\n  -e LLM_API_KEY=<API_KEY> \\\n  -e LLM_API_TYPE=<API_TYPE> \\\n  -e LLM_MODEL=<MODEL> \\\n  --mount type=bind,source=<your_local_dir>,target=/app/TaskWeaver/local/ \\\n  taskweavercontainers/taskweaver-all-in-one:latest\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then you can access your local files in the container by visiting the ",(0,r.jsx)(n.code,{children:"/app/TaskWeaver/local/"})," directory.\nYou can load a file under the ",(0,r.jsx)(n.code,{children:"/app/TaskWeaver/local/"})," directory in the TaskWeaver CLI\nwith the ",(0,r.jsx)(n.code,{children:"/load"})," command. For example, you can load a file named ",(0,r.jsx)(n.code,{children:"example.csv"})," by running the following command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:" TaskWeaver \u25b6  I am TaskWeaver, an AI assistant. To get started, could you please enter your request?\n    Human   \u25b6  /load /app/TaskWeaver/local/example.csv\n    Human   \u25b6  display the column names of the loaded file\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},1151:(e,n,o)=>{o.d(n,{Z:()=>i,a:()=>t});var r=o(7294);const a={},s=r.createContext(a);function t(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);