"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1991],{28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var s=t(96540);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}},36548:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"advanced/observability","title":"Observability","description":"Observability","source":"@site/docs/advanced/observability.md","sourceDirName":"advanced","slug":"/observability","permalink":"/TaskWeaver/docs/observability","draft":false,"unlisted":false,"editUrl":"https://github.com/microsoft/TaskWeaver/tree/main/website/docs/advanced/observability.md","tags":[],"version":"current","frontMatter":{"id":"observability","description":"Observability","slug":"/observability"},"sidebar":"documentSidebar","previous":{"title":"Telemetry","permalink":"/TaskWeaver/docs/advanced/telemetry"},"next":{"title":"The Plugin-Only Mode","permalink":"/TaskWeaver/docs/plugin/plugin_only"}}');var a=t(74848),r=t(28453);const i={id:"observability",description:"Observability",slug:"/observability"},o="Observability",l={},d=[{value:"Get Started",id:"get-started",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"observability",children:"Observability"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://www.agentops.ai/",children:"AgentOps"})," is a platform that helps you to monitor and analyze the behavior and performance of your agents.\nTaskWeaver is integrated with AgentOps, so you can use TaskWeaver to generate code and use AgentOps to observe all the events from the planning to the code execution."]}),"\n",(0,a.jsx)(n.h2,{id:"get-started",children:"Get Started"}),"\n",(0,a.jsxs)(n.p,{children:["TaskWeaver integration with AgentOps is documented ",(0,a.jsx)(n.a,{href:"https://docs.agentops.ai/v1/integrations/taskweaver",children:"here"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["To get started, you need an API key from AgentOps by ",(0,a.jsx)(n.a,{href:"https://app.agentops.ai/signup",children:"signing up"})," for a free account. Then you need to create a new project and generate the API key from the project settings."]}),"\n",(0,a.jsx)(n.p,{children:"Once you have the API keys, the following steps will help you to get started."}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Install the `agentops`` package in your project."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pip install agentops\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Import the ",(0,a.jsx)(n.code,{children:"agentops"})," package in your project."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"import agentops\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Initialize the ",(0,a.jsx)(n.code,{children:"agentops"})," client with your API key."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'agentops.init(api_key="your_api_key")\n'})}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsx)(n.p,{children:'You can also set the tags here to track your sessions in the AgentOps dashboard. By default, the "taskweaver" tag will be added to all the AgentOps sessions for TaskWeaver.'})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Import the TaskWeaver handler ",(0,a.jsx)(n.code,{children:"TaskWeaverEventHandler"})," and set it as the event handler for your TaskWeaver project."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"from agentops.providers.taskweaver import TaskWeaverEventHandler\nhandler = TaskWeaverEventHandler()\n"})}),"\n",(0,a.jsxs)(n.admonition,{type:"note",children:[(0,a.jsx)(n.p,{children:"There are two ways to set the handler:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Set the handler using the ",(0,a.jsx)(n.code,{children:"session.event_handler.register()"})," method."]}),"\n",(0,a.jsxs)(n.li,{children:["Set the handler in every ",(0,a.jsx)(n.code,{children:"session.send_message"})," function call in the ",(0,a.jsx)(n.code,{children:"event_handler"})," parameter."]}),"\n"]})]}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:'If you encounter "stuttering" in the recorded messages from the events, it is because the handler has been set with more than one instance.'})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Now you can run your TaskWeaver project and observe the events in the AgentOps dashboard. When the client is initialized, it will automatically start to track the events and provide a link to the session in the AgentOps dashboard."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.admonition,{type:"info",children:[(0,a.jsxs)(n.p,{children:["It is important to note that the LLM calls and the other events are tracked together in different modules of AgentOps. By default, all the LLM calls are tracked when the AgentOps client is initialized. However, the other events are only tracked when the ",(0,a.jsx)(n.code,{children:"TaskWeaverEventHandler"})," handler is used in conjunction within the code."]}),(0,a.jsxs)(n.p,{children:["Therefore, event observability is limited to LLM calls when TaskWeaver is used in ",(0,a.jsx)(n.a,{href:"/TaskWeaver/docs/usage/cmd",children:"Terminal mode"}),"."]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);